shared_buildings_power_plant:
	Inherits: ^CoreBuilding
	Tooltip:
		Name: Power Plant
	Health:
		HP: 1000
	Power:
		Amount: 2000
		RequiresCondition: !Transforming
	WithIdleOverlay@Powered:
		Sequence: idle-lights
		RequiresCondition: Powered
	WithNightLightSource:
		RequiresCondition: !Transforming && Powered
	Building:
		Dimensions: 3,3
		Footprint: xx= xx= ===
		LocalCenterOffset: -304,-272,0
	HitShape:
		TargetableOffsets: -100,-512,0,   -100,112,0,   824,-512,0,   824,112,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 512, 512
	Selectable:
		Bounds: 2064, 1984, -228, -275
	ProvidesPrerequisite:
		Prerequisite: anypower
	Explodes:
		Weapon: PowerPlantExplosion
		EmptyWeapon: PowerPlantExplosion
	FloatingSpriteEmitter:
		Duration: -1
		Lifetime: 27
		SpawnFrequency: 5
		Speed: 5
		Gravity: 42
		RandomRate: 0
		Palette:
		Image: power_plant_smoke
		Sequences: chimney_smoke
		RequiresCondition: !Transforming
	WithIdleOverlay:
		Palette:
		Image: power_plant_smoke
		Sequence: chimney_chamber
		RequiresCondition: !Transforming
	Encyclopedia:
		Category: Shared - Buildings
		Order: 1
		Animation: DATABASE/X01.FLC
		Title: Power Plant
		Armor: none
		Armament: none
		Resistance: medium
		Description: The nuclear power plant is built in modules.\nTwo further modules, each generating 500 energy units, can be added at any time.\nThe power plant itself generates 2000 energy units.\nThe nuclear power plant is used to supply structures which are unable to generate energy themselves.\nStructures which have no energy are not active.\nThey cannot construct anything and their defense systems are unusable.\nThe destruction of a nuclear power plant has serious consequences for the direct environment.\nDue to atomic contamination, any unit which remains in the building for too long will be destroyed.\nThe contamination will overload the generators of most vehicles, eventually destroying them.
		#TODO Price += 500 for each module
		#TODO Energy supplied += 500 energy units per module

shared_mcu_power_plant:
	Inherits@1: ^SharedVehicleMcu
	Tooltip:
		Name: Mobile Power Plant
	Transforms:
		IntoActor: shared_buildings_power_plant
	Valued:
		Cost: 1000
	Buildable:
		IconPalette:
		Queue: Building.UCS, Building.ED
		BuildDuration: 160
