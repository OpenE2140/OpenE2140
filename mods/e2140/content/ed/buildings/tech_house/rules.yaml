ed_buildings_tech_house:
	Inherits: ^CoreElevatorFactory
	Tooltip:
		Name: Tech House
	Health:
		HP: 1000
	Power:
		Amount: -400
	WithIdleOverlay@Powered:
		Sequence: idle-lights
		RequiresCondition: Powered
	WithNightLightSource:
		RequiresCondition: !Transforming && Powered
	Building:
		Dimensions: 3,3
		Footprint: xx= xxx ===
	HitShape:
		TargetableOffsets: 2024,-1224,0,   2024,-512,0,   2024,100,0,   1024,-1224,0,  1024,-512,0,   1024,100,0
		Type: Rectangle
			TopLeft: -1424, -1724
			BottomRight: 256, -256
	HitShape@Elevator:
		TargetableOffsets: 124,1024,0
		Type: Rectangle
			TopLeft: 656, -456
			BottomRight: 1412, 312
	Selectable:
		Bounds: 2064, 1984, -513, -495
	ElevatorProduction:
		Image: ed_elevator
		Position: 992, -104, 0
		CutOff: 29
		Produces: Vehicle.ED
	AnimatedExitProductionQueue:
		Type: Vehicle.ED
		Group: Vehicle
	ProductionBar:
		ProductionType: Vehicle.ED
	ProvidesPrerequisite:
	# TODO: remove SpawnOffset from Exits and enable this once PR for it is merged.
	#RallyPoint:
	#	InitialOffset: 1024,0,0
	# SpawnOffset is not used in ElevatorProduction (spawn offset is calculated precisely from elevator cell's center).
	Exit@Exit1:
		ExitCell: 1,2
		Facing: 384
		SpawnOffset: 1024,0,0
	Exit@Exit2:
		ExitCell: 2,2
		Facing: 512
		SpawnOffset: 1024,0,0
	Exit@Exit3:
		ExitCell: 3,2
		Facing: 640
		SpawnOffset: 1024,0,0
	Exit@Exit4:
		ExitCell: 3,1
		Facing: 768
		SpawnOffset: 1024,0,0
	Exit@Exit5:
		ExitCell: 3,0
		Facing: 896
		SpawnOffset: 1024,0,0
	Exit@Exit6:
		ExitCell: 2,0
		Facing: 0
		SpawnOffset: 1024,0,0
	Encyclopedia:
		Category: ED - Buildings
		Order: 3
		Animation: DATABASE/X11.FLC
		Title: Vehicle Factory (Tech House)
		Armor: Resistant to conventional weapons
		Armament: none
		Resistance: medium
		Description: All vehicles are manufactured in the Tech House, except for the BANTHA, the HCU-M and the HEAVY-LIFTER, which are manufactured in the Construction Center.\nThis means all other vehicles, tanks, flying machines and heavy battle machines.\nA big part of the production takes place above ground.

ed_mcu_tech_house:
	Inherits@1: ^SharedVehicleMcu
	Tooltip:
		Name: Mobile Tech House
	Transforms:
		IntoActor: ed_buildings_tech_house
	Valued:
		Cost: 1500
	Buildable:
		IconPalette:
		Queue: Building.ED
		BuildDuration: 40
