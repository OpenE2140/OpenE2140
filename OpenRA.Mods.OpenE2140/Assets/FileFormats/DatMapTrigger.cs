#region Copyright & License Information

/*
 * Copyright (c) The OpenE2140 Developers and Contributors
 * This file is part of OpenE2140, which is free software. It is made
 * available to you under the terms of the GNU General Public License
 * as published by the Free Software Foundation, either version 3 of
 * the License, or (at your option) any later version. For more
 * information, see COPYING.
 */

#endregion

namespace OpenRA.Mods.OpenE2140.Assets.FileFormats;

public abstract record DatMapTrigger
{
	private record Unk1Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk2Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk3Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk5Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk6Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk7Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk8Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk9Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk10Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk11Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk12Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk13Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk14Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk15Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk16Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk17Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk18Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	private record Unk19Trigger(
		uint Unk1, // TODO
		uint Unk2, // TODO
		uint Unk3, // TODO
		uint Unk4, // TODO
		uint Unk5, // TODO
		uint Unk6, // TODO
		uint Unk7, // TODO
		uint Unk8, // TODO
		uint Unk9, // TODO
		uint Unk10, // TODO
		uint Unk11 // TODO
	) : DatMapTrigger;

	public static DatMapTrigger? Read(Stream stream)
	{
		var type = stream.ReadUInt32();
		var unk = stream.ReadUInt32();
		var param1 = stream.ReadUInt32();
		var param2 = stream.ReadUInt32();
		var param3 = stream.ReadUInt32();
		var param4 = stream.ReadUInt32();
		var param5 = stream.ReadUInt32();
		var param6 = stream.ReadUInt32();
		var param7 = stream.ReadUInt32();
		var param8 = stream.ReadUInt32();
		var param9 = stream.ReadUInt32();
		var param10 = stream.ReadUInt32();
		var param11 = stream.ReadUInt32();

		if (unk != 0)
			throw new Exception();

		return type switch
		{
			0 => null,
			1 => new Unk1Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			2 => new Unk2Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			3 => new Unk3Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			4 => throw new Exception(), // Unused in all of the maps!
			5 => new Unk5Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			6 => new Unk6Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			7 => new Unk7Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			8 => new Unk8Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			9 => new Unk9Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			10 => new Unk10Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			11 => new Unk11Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			12 => new Unk12Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			13 => new Unk13Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			14 => new Unk14Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			15 => new Unk15Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			16 => new Unk16Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			17 => new Unk17Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			18 => new Unk18Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			19 => new Unk19Trigger(param1, param2, param3, param4, param5, param6, param7, param8, param9, param10, param11),
			20 => throw new Exception(), // Unused in all of the maps!
			21 => throw new Exception(), // Unused in all of the maps!
			_ => throw new Exception()
		};
	}
}
